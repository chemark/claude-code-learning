# 🧠 /memory 命令完整学习指南

> 让 Claude 记住你的偏好、工具和项目配置

## 📋 目录

- [基础概念](#基础概念)
- [快速开始](#快速开始)
- [基本用法](#基本用法)
- [记忆类型](#记忆类型)
- [实战场景](#实战场景)
- [最佳实践](#最佳实践)

---

## 基础概念

### 什么是 /memory 命令？

`/memory` 命令用于查看和管理 Claude 的记忆系统。记忆系统可以让 Claude 记住：
- 🎨 **你的偏好** - 代码风格、命名习惯
- 🛠️ **项目工具** - 构建工具、测试框架
- 📝 **特殊指令** - 提交规范、文档要求
- 🏗️ **项目信息** - 架构、环境配置

### 记忆 vs 对话上下文

| 特性 | 记忆 | 对话上下文 |
|------|------|-----------|
| 持久性 | ✅ 跨会话保留 | ❌ /clear 会清除 |
| 作用范围 | ✅ 全局/项目 | ❌ 当前对话 |
| 修改方式 | # 或 /memory | 自然对话 |
| 存储位置 | 持久化 | 临时内存 |

---

## 快速开始

### 30 秒快速体验

```bash
# 1. 查看当前记忆
/memory

# 2. 添加一个偏好
#
→ 选择 "Add Preference"
→ 输入 "使用单引号，2空格缩进"

# 3. 验证 Claude 记住了
"创建一个 JavaScript 函数"
# Claude 会自动使用单引号和 2 空格
```

---

## 基本用法

### 1. 查看记忆

```bash
# 命令方式
/memory

# 自然语言
"显示我的记忆"
"查看我保存的偏好"
```

**输出示例**：
```
📝 Claude Memory Dashboard

════════════════════════════════
📌 Preferences (偏好设置)
════════════════════════════════
✓ 代码风格: 单引号, 2空格缩进
✓ TypeScript: strict mode
✓ 提交规范: Conventional Commits

════════════════════════════════
🛠️ Tools (工具配置)
════════════════════════════════
✓ 包管理: pnpm
✓ 构建工具: Vite
✓ 测试框架: Vitest

════════════════════════════════
📝 Instructions (指令)
════════════════════════════════
✓ 所有函数需要 JSDoc
✓ 提交前运行测试
```

### 2. 添加记忆

**方法 1: 使用 # 快捷键（推荐）**
```bash
#
→ 弹出菜单
→ 选择记忆类型
→ 输入内容
```

**方法 2: 自然语言**
```bash
"记住：我喜欢使用 React Hooks"
"记住：API 端口是 8080"
"记住：测试文件使用 .test.ts 后缀"
```

### 3. 编辑记忆

```bash
"更新记忆：改为使用 4 空格缩进"
"修改工具配置：改用 npm"
```

### 4. 删除记忆

```bash
"忘记关于缩进的偏好"
"删除所有工具配置"
```

---

## 记忆类型

### 1. Preferences (偏好设置)

**代码风格**：
```bash
"记住：
- 使用单引号
- 2 空格缩进
- 总是添加分号
- 使用 const/let，不用 var"
```

**命名习惯**：
```bash
"记住：
- 组件文件：PascalCase.tsx
- 工具函数：camelCase.ts
- 常量：UPPER_SNAKE_CASE
- 接口：以 I 开头"
```

**框架偏好**：
```bash
"记住：
- 优先使用 React Hooks
- 状态管理用 Zustand
- 样式用 Tailwind CSS"
```

### 2. Tools (工具配置)

**开发工具**：
```bash
"记住：
- 包管理器：pnpm
- 构建工具：Vite
- 测试框架：Vitest
- Linter：ESLint + Prettier"
```

**部署工具**：
```bash
"记住：
- CI/CD：GitHub Actions
- 部署平台：Vercel
- 数据库：PostgreSQL"
```

### 3. Instructions (特殊指令)

**Git 规范**：
```bash
"记住：
- 提交信息遵循 Conventional Commits
- 中文提交信息
- feat/fix/docs/refactor/test
- 提交前必须通过测试"
```

**文档要求**：
```bash
"记住：
- 所有公共 API 需要 JSDoc
- 组件需要 Storybook 文档
- README 必须包含使用示例"
```

### 4. Project Context (项目上下文)

**项目结构**：
```bash
"记住：
- src/ 源代码
- tests/ 测试文件
- docs/ 文档
- scripts/ 构建脚本"
```

**环境配置**：
```bash
"记住：
- 开发端口：3000
- API 端口：8080
- 数据库端口：5432"
```

---

## 实战场景

### 场景 1: 新项目初始化

```bash
# 1. 连接项目
cd new-project

# 2. 配置项目记忆
#
"记住这个项目的配置：

代码风格：
- TypeScript strict mode
- ESLint + Prettier
- 单引号，2空格

工具链：
- Vite (构建)
- Vitest (测试)
- pnpm (包管理)

提交规范：
- Conventional Commits
- 中文提交信息
- 提交前 lint

项目结构：
- src/ 源代码
- tests/ 测试
- docs/ 文档"

# 3. 验证
/memory

# 4. 开始开发
"创建一个新组件"
# Claude 自动遵循所有配置
```

### 场景 2: 团队规范同步

```bash
# 团队 Leader 配置
#
"记住团队规范：

代码审查：
- 至少 2 人审查
- 必须通过 CI
- 覆盖率 > 80%

分支管理：
- main 主分支
- develop 开发分支
- feature/* 功能分支

命名规范：
- 变量用 camelCase
- 常量用 UPPER_CASE
- 类名用 PascalCase"

# 导出配置
"导出配置到 .claude/team-config.json"

# 团队成员导入
"导入 .claude/team-config.json"
```

### 场景 3: 多项目管理

```bash
# 项目 A（React）
cd project-a
#
"记住：React 项目，用 Emotion 做样式"

# 项目 B（Vue）
cd project-b
#
"记住：Vue 3 项目，用 Composition API"

# Claude 会根据当前目录自动应用对应记忆
```

---

## 最佳实践

### 1. 项目开始时配置

```bash
✅ 第一天就配置记忆
- 代码风格
- 工具链
- 提交规范
- 项目结构

❌ 不要等到后面再配置
```

### 2. 记忆要具体明确

```bash
✅ 好的记忆
"使用单引号，2空格缩进，总是加分号"

❌ 模糊的记忆
"代码要规范"  # 不够具体
```

### 3. 定期清理

```bash
# 每月检查
/memory

# 删除过时的记忆
"忘记关于旧项目的配置"

# 更新变化的偏好
"更新记忆：改用 TypeScript 5.0"
```

### 4. 不要存储敏感信息

```bash
❌ 不要记住
- 密码和密钥
- API tokens
- 个人隐私信息

✅ 可以记住
- 公开的配置
- 代码规范
- 工具选择
```

---

## 学习检查清单

```markdown
### /memory 命令掌握度

#### 基础
- [ ] 能够查看记忆
- [ ] 能够添加偏好
- [ ] 能够添加工具配置
- [ ] 能够删除记忆

#### 中级
- [ ] 配置项目记忆
- [ ] 导出/导入配置
- [ ] 多项目管理
- [ ] 团队规范同步

#### 高级
- [ ] 记忆策略优化
- [ ] 自动化配置
- [ ] 培训团队成员
```

---

<div align="center">
  <sub>🧠 让 Claude 记住重要信息，提升工作效率！</sub>
</div>
